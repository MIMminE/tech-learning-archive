## 클라우드 컴퓨팅이란?

클라우드 컴퓨팅은 IT 리소스(서버, 스토리지, 데이터베이스, 네트워크 등)를 인터넷을 통해`(on-demand, 즉 수요에 따라)` 제공하고, 사용한 만큼만 비용을 지불하는 서비스를 말한다.

### 기존 서버-클라이언트 환경의 한계
서버-클라이언트 환경이 현대 애플리케이션의 표준처럼 자리잡으면서 서버의 필요성이 크게 증가했다. 
과거에는 데이터센터를 구축하여 서버를 직접 운영하는 방식이 일반적이었다. 그러나 이 방식은 다음과 같은 단점들을 가진다.
- 데이터 센터 건물 유지 비용 및 초기 투자 비용 부담이 크다.
- 서비스의 수요 예측에 실패할 경우 IT 리소스의 낭비 또는 부족할 가능성이 존재한다.
- 물리적인 센터 구축 및 확장에 긴 시간이 소요된다.

### 클라우드 컴퓨팅의 등장과 장점
클라우드 컴퓨팅 서비스를 제공하는 회사를 `클라우드 프로바이더(Cloud Provider)`라 부르며,
대표적으로 AWS, Azure, Google Cloud 등이 있다. 클라우드 컴퓨팅의 주요 장점은 다음과 같다.
- `규모의 경제` : 대규모의 자원을 미리 확보하여 제공하는 방식이므로 특정 단위 자원에 대한 이용 비용이 절감되는 경제적인 효과를 얻을 수 있다.
- `유연한 확장성` : 수요에 따라 리소스를 즉시 늘리거나 줄일 수 있다.
- `운영 부담 감소` : 서비스 운영에 변수가 생겨 서비스를 중단해야할 경우에도 리소스 반환하기만 하면 서비스를 정리할 수 있으므로 부담이 적다.
- `비용 효율성` : 리소스를 사용한 만큼만 비용을 지불하기에 효율적이다.

요약하자면, 클라우드 컴퓨팅은 IT 인프라 운영의 효율성과 유연성을 크게 높여주며, 개발자와 기업은 핵심 서비스 개발에 집중할 수 있게 되었다. 

```text
클라우드 시스템이 무조건 저렴한 것은 아니다.
같은 자원의 단위 시간당 비용은 오히려 클라우드가 비싸다.
장기간 사용하는 경우에는 온프레미스가 유리하다.
```

## 클라우드 컴퓨팅 모델

클라우드 컴퓨팅은 `클라우드 컴퓨팅 서비스 모델` 관점과 `클라우드 컴퓨팅 배포 모델` 관점으로 분류하여 구분할 수 있다.

### 클라우드 컴퓨팅 서비스 모델(Cloud Computing Service Model)
클라우드 서비스를 `어떤 형태로 제공하느냐`에 따라 구분되며, 가장 대표적으로 아래 세 가지가 있다.
- `IaaS(Infrastructure as a Service)` : 서버, 스토리지, 네트워크 등 인프라 자원을 서비스로 제공한다. AWS EC2, Google Compute Engine 등이 대표적이다.
- `Paas(Platform as a Service)` : 애플리케이션 개발, 실행 환경을 서비스로 제공한다. AWS Elastic Beanstalk, Google App Engine 등이 있다.
- `SaaS(Software as a Service)` : 소프트웨어를 인터넷을 통해 바로 사용할 수 있도록 서비스로 제공한다. Gmail, Microsoft 365 등이 있다.

정리하자면 개발을 위한 컴퓨팅 리소스만을 제공하느냐, 리소스에 추가로 필요한 서드파티 프로그램의 서비스까지 제공하느냐, 전체 소프트웨어 수준으로 제공하느냐를 나눈다.

### 클라우드 컴퓨팅 배포 모델(Cloud Deployment Model)
클라우드 인프라를 어디에, 누구를 위해 배포하느냐에 따라 구분하는 기준이다.

- `Public Cloud` : 불특정 다수에게 공개된 클라우드 환경이다. 
- `Private Cloud` : 특정 조직이나 기업만을 위해 독점적으로 구축된 클라우드 환경이다.
- `Hybrid Cloud` : 퍼블릭과 프라이빗 클라우드를 혼합한 형태로 구축된 클라우드 환경이다.

대부분의 경우에는 하이브리드 형태로 많이 사용하는데 그 이유는 다음과 같다.
- 민감한 데이터는 프라이빗으로 사용하고 서비스 앞단만 퍼블릭으로 하는 경우가 많다.
- 이미 기존에 만들어져있던 내부 시스템을 확장하여 공개 서비스로 일부 사용하고 싶을 경우 하이브리드가 적합하다.

## 클라우드의 용어 및 개념

### 고가용성(High Availability, HA)과 장애 내구성(Fault Tolerance)

`고가용성`은 장애 상황이 발생했을때, 최대한 빠르게 대체 또는 복구하여 서비스를 지속할 수 있는 능력을 말한다. 
서비스의 중단 시간(Downtime)을 최소화하는 것이 목표이며 아래와 같은 구현 방법들이 있다.
- `다중 데이터센터(Region, AZ) 활용` : 여러 물리적 위치에 시스템을 분산 배치하여, 한 곳에 문제가 생겨도 다른 곳에서 서비스가 계속 제공되게 한다.
- `로드 밸런싱` : 여러 서버에 트래픽을 분산하여, 특정 서버에 장애가 발생해도 나머지 서버가 서비스를 계속 제공하게 한다.
- `자동 확장` : 필요에 따라 자동으로 서버 인스턴스를 늘리거나 줄여서, 사용량 급증에도 중단 없이 서비스를 제공하게 한다.

보통 고가용성 개념은 무상태(Stateless) 서비스를 제공하는 서버의 인스턴스 수를 늘려 트래픽을 분산시키고, 하나의 인스턴스에 장애가 생기더라도 다른 인스턴스를 통해 서비스를 중단 없이 계속 제공할 수 있게 하는 데서 주로 사용된다.
이 경우에는 성능 향상과 장애 대응 두 가지 측면에서 이점을 얻을 수 있다. 

한편, 상태를 저장해야 하는 서비스(데이터베이스 등)의 고가용성을 확보하려면 단순히 서버 인스턴스만 늘리는 것으로는 충분하지 않는다.
이 경우는 데이터의 복제(Replica)가 함께 이뤄져야 장애 상황에서도 서비스 영속성이 보장되며, 실무에서는 상태 유비 여부와 관계없이 `고가용성`이라는 용어로 넓게 사용한다.

실질적으로 고가용성 개념은 `서비스가 절대 한 번도 끊기지 않는다`는 의미는 아니며, `장애가 발생해도 아주 짧은 시간 내에 서비스가 다시 정상적으로 제공된다`를 의미한다.

#### 장애 내구성(Fault Tolerance)
`장애 내구성`은 서비스에 장애가 발생해도 전체 서비스가 영향을 받지 않도록 설계된 특성을 말한다. 
고가용성과 유사한 개념이지만 장애가 발생함에도 계속 지속하는 능력에 초점이 맞춰져 있으며 구현 방식도 유사한 부분이 많다.
상태를 저장해야 하는 서비스의 장애 내구성 확보는 복제 등의 방법을 통해 상태를 안전하게 보존해야 하며, 이 떄문에 스토리지 용량에 대한 부담이 발생한다.

일반적인 서비스는 고가용성은 대부분의 서비스에서 필수적으로 확보해야 하며, 장애 내구성은 서비스의 특성과 요구에 따라 선택적으로 적용하는 전략이다.

### 확장성(Scalability)
시스템이나 서비스가 트래픽 증가, 데이터 증가, 사용자 수 증가 등 변화하는 수요에 맞춰 자원을 탄력적으로 늘리거나 줄일 수 있는 능력을 말한다.
확장성의 유형은 크게 `수평적 확장`과 `수직적 확장`으로 나뉜다.

- `수평적 확장(Scale-out)` : 서버 인스턴스를 늘리거나 줄이는 방식으로, 클라우드에서 주로 사용하는 방식이다.
- `수직적 확장(Scale-up)` : 기존 서버의 성능을 업그레이드하는 방식이다. 물리 컴퓨터의 부품을 바꿈으로써 성능을 바꾸는 방식이다.

수평적 확장은 인스턴스 개수를 그대로 늘리는 것이므로 비용이 정비례로 증가하지만, 수직적 확장은 그렇지 않다. 보통 성능이 두배 증가하는 CPU로 대체할 경우 비용은 그보다 많이 든다.

### 탄력성(Elasticity)
시스템이 실시간으로 변화하는 수요에 맞춰 리소스를 자등으로 할당하거나 회수하는 능력을 말한다.
확장성 개념과 깊은 연관이 있으며, 탄력성이라는 말은 자동으로 조절한다에 초점을 맞춘 용어라고 보면 된다. 
AWS에서 Elastic 이라는 용어로 자주 사용하는 용어이다.

### 긴밀한 결합(Tight Coupling) , 느슨한 결합(Loose Coupling)
어떤 것을 구성하는데 있어 각 요소들이 얼마나 강하게 연결되어 있는지에 대한 내용이다. 
각 방식에는 장단점이 존재하지만, 소프트웨어 공학적으로는 일반적으로 느슨한 결합이 좋다고 알려져 있다.

#### 긴밀한 결합
시스템의 구성 요소(모듈, 컴포넌트, 서비스 등)들이 서로 강하게 연결되어 있어 한 부분이 변경되면 다른 부분에도 영향을 준다.
직접적으로 연결되어 있어 성능 최적화가 쉬울 수 있으며, 간단한 소규모 시스템의 경우에는 구현이 쉬워 장점으로 작용하기도 한다.
하지만 강하게 결합되어 있어 한 부분에 대한 수정이 전체 시스템에 영향을 줄 가능성이 높으며 이로 인한 유지 보수가 어려워질 수 있다.

#### 느슨한 결합
시스템의 구성 요소들이 최소한의 연결만을 가지고, 서로 독립적으로 동작할 수 있는 구조이다.
한 요소의 변경이 다른 요소에 영향을 거의 주지 않으며, 유지보수 및 확장성이 높다는 장점이 있다. 
현대 애플리케이션의 전반에서 자주 사용되고 있으며 중간에 네트워크 및 메시지 큐 등을 두기 떄문에 통신 비용이 별도로 발생하기도 한다.

개별적인 컴포넌트 또는 서비스의 구현은 상대적으로 단순하고 유지보수에 장점이 있지만 전체 시스템으로 보면 설계의 복잡성으 크게 늘어난다는 단점이 있다.
그럼에도 불구하고 유연성과 확장성이라는 큰 장점이 있어 클라우드 시스템에서는 매우 중요하게 여겨지는 개념이다. 

### 가상화(Virtualization)
물리적인 컴퓨팅 자원(서버, 스토리지, 네트워크 등)을 논리적으로 분리하여 마치 여러 개의 가상 자원처럼 사용할 수 있게 만드는 기술이다. 
이렇게 나누어진 논리적인 컴퓨텅 자원은 여러 사용자가 동시에 독립적으로 사용할 수 있다. 클라우드 시스템은 기본적으로 이런 가상화 기술을 기반으로 운용된다.

이런 가상화 기능 덕분에 클라우드에서 필요한 만큼의 컴퓨팅 자원을 빠르게 할당받고 반환할 수 있는 것이다.


## AWS의 구조
AWS는 전세계에 리전(Region)이라는 데이터센터 집합을 두고, 그 하위에 가용영역(AZ)를 두고 있는 형태로 전세계에 서비스를 제공하고 있다.

### 리전(Region)
AWS를 제공하는 데이터센터들의 집합이다. 전 세계 여러 곳에 위치하며, 각 리전은 독립적으로 운영된다.
서울에 있는 리전은 ap-northeast-2이며 가장 대표적인 리전은 us-east-1으로 대부분의 서비스를 이곳에서 먼저 선보인다.
물리적으로 가까운 리전이 지연시간이 가장 적으므로 대부분 가까운 리전을 선택하지만, 법률/규제나 서비스 제공 여부에 따라 다른 리전을 선택하기도 한다.

모든 AWS 서비스가 모든 리전에서 공통적으로 제공되는 것은 아니며, 글로벌 서비스라고 불리는 공통적으로 사용되는 서비스는 리전과 무관하게 사용이 가능하다.

### 가용영역(AZ, Availability Zone)
하나의 리전 안에 포함된 물리적으로 분리된 데이터센터이다. 일반적으로 하나의 리전에는 3개 이상의 가용영역이 존재한다.
각 가용영역은 물리적 지해에 독립적이기 위해 위치상 떨어져 있지만 전용 네트워크를 통해 고속으로 통신이 가능하다. 
같은 이름의 AZ라도 계정마다 실제 데이터센터가 다를 수 있는데, 이는 특정 AZ로 트래픽이 몰리는 현상을 방지하고 보안성을 높이기 위함이다.

고가용성 확보를 위한 인스턴스 수를 늘리는 작업은 보통 가용영역을 달리하여 인스턴스를 생성한다. 이는 하나의 가용영역이 전체 문제가 생겼을 때에도 다른 가용영역의 인스턴스에서
정상적으로 서비스될 수 있게 하기 위함이다.

```text
리전, 계정, 리소스 종류 등에 의해 인스턴스가 생성되면
ARN(Amazon Resource Name)이라는 고유 식별자가 생성된다.
```

## AWS 계정
AWS에서 계정은 사용자를 생성하고 리소스를 관리하는 단위이다. 계정을 생성하면 자동으로 루트 사용자`(Root User)`가 만들어디는데,
이 사용자는 모든 권한을 가지고 있어 결제 및 과금 관련 설정 등 중요한 리소스에 쉽게 접근할 수 있다. 따라서 루트 사용자는 `IAM 사용자`라 불리는 
제한된 권한을 갖는 사용자 생성 및 초기 설정 작업에만 사용하고, 실제 서비스 운영이나 리소스 관리는 생성한 IAM 사용자를 통해 하는 것을 권장한다.

루트 사용자의 경우는 탈취당할 경우 금전적인 피해가 발생할 가능성이 매우 높으므로 반드시 `MFA`를 설정하는 것이 필수적이다.

### IAM(Identity and Access Management) 사용자
IAM 사용자는 루트 사용자가 AWS IAM(Identity and Access Management) 기능을 통해 생성하는 계정 내의 사용자이다. 기본적으로 생성 직후에는 별도의 권한이 없지만, 
`정책(Policy)` 또는 `그룹(Group)`에 추가함으로써 필요한 권한을 부여받아 AWS 리소스에 접근하거나 작업할 수 있다.

IAM 사용자가 탈취당한다 하더라도 정책, 그룹에서의 배제 등을 통해 권한을 회수함으로 보안을 유지할 수 있다. 
또한 IAM 사용자에게 제한된 권한을 주기때문에 과금이 필요하거나 민감한 정보를 다룰 수 있는 부분에는 접근할 수 없게 할 수 있다.